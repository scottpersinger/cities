{
  "classes": "",
  "detailTemplate": "",
  "gsOptions": {
    "h": 1476,
    "w": 24,
    "x": 0,
    "y": 13
  },
  "offSet": 0,
  "overflow": "height:auto",
  "perPage": 2,
  "styles": "",
  "tab": "-MWZUnL0Mw7L_6bo6jKO",
  "template": "<div\r\n  v-if=\"!globalModels.appointmentsLoaded\"\r\n  class=\"d-flex justify-content-center\"\r\n>\r\n  <Loading />\r\n</div>\r\n\r\n<!-- FROM HERE - override -->\r\n<b-alert\r\n  v-if=\"globalModels.overrideMsg\"\r\n  show\r\n  variant=\"danger\"\r\n>\r\n  <span>No available appointments found. {{ globalModels.appointmentsError }}</span>\r\n  <!-- <b-button @click.prevent=\"this.getAppointments(null, true)\" size=\"sm\" style=\"margin: 10px;\" variant=\"warning\">Override</b-button> -->\r\n</b-alert>\r\n<b-alert\r\n  v-if=\"globalModels.overrideMsg\"\r\n  show\r\n  variant=\"warning\"\r\n>\r\n  <span><bold>FOR REFERRALS TEAM ONLY</bold></span> </br>\r\n  <span>Continue to booking designated referral, only once permission has been granted by the consultant</span>\r\n  <b-button variant=\"dark\" @click.prevent=\"this.getAppointments(null, true)\" size=\"sm\" style=\"margin: 10px;\">Continue Booking</b-button>\r\n</b-alert>\r\n<!-- TO HERE - override -->\r\n<b-alert\r\n  v-else-if=\"globalModels.appointmentsError\"\r\n  show\r\n  variant=\"danger\"\r\n>\r\n  <span>No available appointments found. {{ globalModels.appointmentsError }}</span>\r\n\r\n  <a href=\"#\" @click.prevent=\"this.getAppointments\">\r\n    <span\r\n    style=\"display:none\"\r\n    \r\n    >Refresh</span>\r\n    <icon name=\"refresh\" />\r\n  </a>\r\n</b-alert>\r\n\r\n\r\n<div v-else v-for=\"(r, index) in globalModels.appointments\">\r\n  <div class=\"row\">\r\n    <div class=\"col-5 col-sm-5 col-lg-4\">\r\n      <button\r\n        style=\"padding: 2px;display:none\"\r\n        @click=\"this.getAppointments(true)\"\r\n        class=\"btn btn-block btn-primary\"\r\n      >\r\n        Refresh List\r\n        <a>\r\n          <svg\r\n            version=\"1.1\"\r\n            role=\"presentation\"\r\n            width=\"13.714285714285714\"\r\n            height=\"16\"\r\n            viewBox=\"0 0 1536 1792\"\r\n            class=\"fa-icon\"\r\n          >\r\n            <path\r\n              d=\"M1511 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zM1536 256v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z\"\r\n            ></path>\r\n          </svg>\r\n        </a>\r\n      </button>\r\n      <div v-if=\"getParams.consultant\">\r\n        <span>No NPE slots available, please contact practice manager. </span>\r\n\r\n        <span v-if=\"!getParams.consultant\"\r\n          >No appointment slots returned, please try a different date or range.\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div style=\"display: flex; margin: 10px 0; flex-wrap: wrap\">\r\n    <div class=\"m-1\" v-for=\"(c, p) in r.days\">\r\n      <b-button\r\n        class=\"dateButton\"\r\n        variant=\"primary\"\r\n        style=\"text-decoration: line-through\"\r\n        v-if=\"!$getUser('datesToShow').includes(c.date)\"\r\n        @click=\"toggleDate(c.date, 'add');log(p)\"\r\n      >\r\n        <span style=\"padding: 0 3px;\">{{c.date | moment(\"dd\")}}</span>\r\n        {{c.date | moment(\"DD-MM-YYYY\")}}\r\n        <b-badge class=\"dateBadge\" variant=\"success\"\r\n          ><span style=\"font-color: black\">{{c.appointments}}</span></b-badge\r\n        >\r\n      </b-button>\r\n\r\n      <b-button\r\n        class=\"dateButton\"\r\n        variant=\"primary\"\r\n        v-if=\"$getUser('datesToShow').includes(c.date)\"\r\n        @click=\"toggleDate(c.date, 'remove'); console.log(p)\"\r\n      >\r\n        <span style=\"padding: 0 3px;\">{{c.date | moment(\"dd\")}}</span>\r\n        {{c.date | moment(\"DD-MM-YYYY\") }}\r\n        <b-badge class=\"dateBadge\" variant=\"success\"\r\n          ><span>{{c.appointments}}</span></b-badge\r\n        >\r\n      </b-button>\r\n    </div>\r\n  </div>\r\n\r\n  <div\r\n    class=\"card p-3 m-2 appt_container\"\r\n    v-for=\"row in filteredAppointments(r.appointmentsSorted)\"\r\n    v-if=\"($getUser('onlyVisualFields')?((row.clinic.Clinic_ID__c === '150' || row.clinic.Clinic_ID__c === '131' || row.clinic.Clinic_ID__c === '295' || row.clinic.Clinic_ID__c === '299' || row.clinic.Clinic_ID__c === '308')):((row.clinic.Clinic_ID__c !== '150' && row.clinic.Clinic_ID__c !== '131'  && row.clinic.Clinic_ID__c !== '295'  && row.clinic.Clinic_ID__c !== '299'  && row.clinic.Clinic_ID__c !== '308'         ))) && $getUser('locations') && ((row.clinic.Clinic_ID__c == 150 || row.clinic.Clinic_ID__c == 131  || row.clinic.Clinic_ID__c == 295     || row.clinic.Clinic_ID__c == 299      || row.clinic.Clinic_ID__c == 308   )?true:($getUser('locations').includes(row.clinic.locationName))) && $getUser('datesToShow').includes(row.Start.split('T')[0]) && $getUser('am') && $getUser('am').includes(ampm(row.Start)) && row.BookingStatus == 0 && row.SlotType !== 'S'\"\r\n  \r\n    \r\n    v-show=\"$getUser('locations').includes(row.clinic.locationName) && row.SessionId\"\r\n  \r\n  >\r\n    <div\r\n      \r\n      class=\"controlItem pl-0 pr-0 pr-md-4 mt-md-0 col-md-12\"\r\n      gridid=\"appointmentData\"\r\n      rowdata=\"[object Object]\"\r\n    >\r\n      <div class=\"row flex-nowrap forms-wrapper\">\r\n        <!---->\r\n        <div class=\"formsElement col-md-12\">\r\n          <div label-position=\"left\" class=\"controlElement\">\r\n            <!-- Visual field button -->\r\n            <button\r\n              v-if=\"row.clinic.Clinic_ID__c == 150 || row.clinic.Clinic_ID__c == 131  || row.clinic.Clinic_ID__c == 295  || row.clinic.Clinic_ID__c == 299  || row.clinic.Clinic_ID__c == 308\"\r\n              @click=\"setAppointmentData('visual', row)\"\r\n              type=\"button\"\r\n              class=\"btn m-1 btn-success btn-sm\"\r\n               v-bind:class=\"{ disabled: models.visual!=='select' }\"\r\n              style=\"min-height: 24px\"\r\n              \r\n            >\r\n              <span style=\"font-size: 0.7em;\"\r\n                >{{ models.visual == 'select' ? 'Select Visual Fields And Book':\r\n                'Select a Consultant First'}}</span\r\n              >\r\n            </button>\r\n\r\n            <!-- Glaucoma visual button -->\r\n            <button\r\n              v-if=\"row.clinic.solutionName && row.clinic.solutionName.includes('Glaucoma')\"\r\n              @click=\"setAppointmentData('glaucoma', row)\"\r\n              type=\"button\"\r\n              class=\"btn m-1 btn-success btn-sm\"\r\n              style=\"min-height: 24px\"\r\n            >\r\n              <span style=\"font-size: 0.7em;\">Select Consultant</span>\r\n            </button>\r\n\r\n            <!-- Normal button -->\r\n            <button\r\n              v-if=\"row.clinic.solutionName && !row.clinic.solutionName.includes('Glaucoma') && !(row.clinic.Clinic_ID__c == 150 || row.clinic.Clinic_ID__c == 131   || row.clinic.Clinic_ID__c == 295   || row.clinic.Clinic_ID__c == 299   || row.clinic.Clinic_ID__c == 308                                         )\"\r\n              @click=\"setAppointmentData(null, row)\"\r\n              type=\"button\"\r\n              class=\"btn m-1 btn-success btn-sm\"\r\n              style=\"min-height: 24px\"\r\n            >\r\n              <span>Select</span>\r\n            </button>\r\n\r\n            <b-form-checkbox\r\n              v-if=\"1==2\"\r\n              id=\"checkbox-1\"\r\n              name=\"checkbox-1\"\r\n              value=\"accepted\"\r\n              unchecked-value=\"not_accepted\"\r\n            >\r\n              Visual Fields Test\r\n            </b-form-checkbox>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"controlItem pl-0 pr-0 pr-md-4 mt-0 mt-md-0 col-md-6\"\r\n      gridid=\"appointmentData\"\r\n      rowdata=\"[object Object]\"\r\n    >\r\n      <div class=\"row flex-wrap forms-wrapper\">\r\n        <div class=\"col-md-4 col-5 col-sm-4 formLabel\">\r\n          <label class=\"form-control-label labels\"><span>Location</span></label>\r\n        </div>\r\n        <div class=\"formsElement col-md-8 col-sm-8 col-7\">\r\n          <div\r\n            label-position=\"left\"\r\n            style=\"text-align: left\"\r\n            class=\"controlElement\"\r\n          >\r\n            <h1 class=\"descriptionElement\">\r\n              {{row.clinic.locationName}}\r\n\r\n            </h1>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"controlItem pl-0 pr-0 pr-md-4 mt-md-0 col-md-6\"\r\n      gridid=\"appointmentData\"\r\n      rowdata=\"[object Object]\"\r\n    >\r\n      <div class=\"row flex-nowrap forms-wrapper\">\r\n        <div class=\"col-md-4 col-5 formLabel\">\r\n          <label class=\"form-control-label labels\"\r\n            ><span>Appointment Date</span></label\r\n          >\r\n        </div>\r\n        <div class=\"formsElement col-md-8 col-7\">\r\n          <div\r\n            class=\"ellipsis controlElement descriptionElement\"\r\n            label-position=\"left\"\r\n            gridid=\"appointmentData\"\r\n          >\r\n            {{moment(row.Start).format(\"DD/MM/YYYY\")}}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"controlItem pl-0 pr-0 pr-md-4 mt-md-0 col-md-6\"\r\n      gridid=\"appointmentData\"\r\n      rowdata=\"[object Object]\"\r\n    >\r\n      <div class=\"row flex-nowrap forms-wrapper\">\r\n        <div class=\"col-md-4 col-5 formLabel\">\r\n          <label class=\"form-control-label labels\"><span>Time</span></label>\r\n        </div>\r\n        <div class=\"formsElement col-md-8 col-7\">\r\n          <div\r\n            label-position=\"left\"\r\n            style=\"text-align: left\"\r\n            class=\"controlElement\"\r\n          >\r\n            <span class=\"descriptionElement\"\r\n              >{{row.Start | moment(\"HH:mm\")}}</span\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"controlItem pl-0 pr-0 pr-md-4 mt-md-0 col-md-6\"\r\n      gridid=\"appointmentData\"\r\n      rowdata=\"[object Object]\"\r\n    >\r\n      <div class=\"row flex-nowrap forms-wrapper\">\r\n        <div class=\"col-md-4 col-5 formLabel\">\r\n          <label class=\"form-control-label labels\"><span>Consultant</span></label>\r\n        </div>\r\n        <div class=\"formsElement col-md-8 col-7\">\r\n          <div\r\n            label-position=\"left\"\r\n            style=\"text-align: left\"\r\n            class=\"controlElement\"\r\n          >\r\n            <span class=\"descriptionElement\"\r\n              >{{row.clinic.consultantName}}</span\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"controlItem pl-0 pr-0 pr-md-4 mt-md-0 col-md-6\"\r\n      gridid=\"appointmentData\"\r\n      rowdata=\"[object Object]\"\r\n    >\r\n      <div class=\"row flex-nowrap forms-wrapper\">\r\n        <div class=\"col-md-4 col-5 formLabel\">\r\n          <label class=\"form-control-label labels\"><span>Length</span></label>\r\n        </div>\r\n        <div class=\"formsElement col-md-8 col-7\">\r\n          <div\r\n            label-position=\"left\"\r\n            style=\"text-align: left\"\r\n            class=\"controlElement\"\r\n          >\r\n            <span class=\"descriptionElement\"\r\n              >{{getDuration(row.Start, row.End)}} minutes</span\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"controlItem pl-0 pr-0 pr-md-4 mt-md-0 col-md-6\"\r\n      gridid=\"appointmentData\"\r\n      rowdata=\"[object Object]\"\r\n    >\r\n      <div class=\"row flex-nowrap forms-wrapper\">\r\n        <div class=\"col-md-4 col-5 formLabel\">\r\n          <label class=\"form-control-label labels\"><span>Service/Note</span></label>\r\n        </div>\r\n        <div class=\"formsElement col-md-8 col-7\">\r\n          <div\r\n            label-position=\"left\"\r\n            class=\"controlElement\"\r\n            style=\"text-align: left\"\r\n          >\r\n            <h5>{{row.clinic.solutionName}}</h5>\r\n            <br/>\r\n            Note-<span class=\"descriptionElement\">{{row.SlotNote}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"controlItem pl-0 pr-0 pr-md-4 mt-md-0 col-md-6\"\r\n      gridid=\"appointmentData\"\r\n      rowdata=\"[object Object]\"\r\n    >\r\n      <div class=\"row flex-nowrap forms-wrapper\">\r\n        <div class=\"col-md-4 col-5 formLabel\">\r\n          <label class=\"form-control-label labels\"><span>Conversions</span></label>\r\n        </div>\r\n        <div class=\"formsElement col-md-8 col-7\">\r\n          <div label-position=\"left\" class=\"controlElement\">\r\n            <span>{{row.conversions}} - {{row.SessionId}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n\r\n</div>\r\n\r\n<!-- <pre >\r\n{{globalModels.appointments}}\r\n\r\n</pre> -->\r\n\r\n",
  "title": "Appointment search"
}